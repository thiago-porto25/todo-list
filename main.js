(()=>{"use strict";const e=()=>{const e=document.createElement("div");e.setAttribute("id","bigLogoContainer"),e.setAttribute("class","logo");const t=document.createElement("span");return t.textContent="Todo List",e.appendChild(t),e},t=()=>{const e=document.createElement("form");e.setAttribute("id","loginForm");const t=document.createElement("div");t.setAttribute("class","headerLogin");const o=document.createElement("header");o.textContent="Log in to Todo List";const n=document.createElement("div");n.setAttribute("class","loginContainer");const r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("required",""),r.setAttribute("maxlength","10"),r.setAttribute("class","inputText"),r.setAttribute("id","inputUserFirstName");const a=document.createElement("span");a.setAttribute("class","floating-label"),a.setAttribute("maxlength","30"),a.textContent="First Name";const s=document.createElement("button");return s.setAttribute("class","button loginButton"),s.textContent="Login",n.appendChild(r),n.appendChild(a),t.appendChild(o),e.appendChild(t),e.appendChild(n),e.appendChild(s),e},o=()=>{const o=document.createElement("div");o.setAttribute("id","loginPage");const n=document.querySelector("body"),r=e(),a=t();o.appendChild(r),o.appendChild(a),n.appendChild(o)},n=()=>{document.querySelector("#loginPage").remove()},r=()=>{const e=document.createElement("nav"),t=(()=>{const e=document.createElement("div");e.setAttribute("class","logo"),e.setAttribute("id","logoContainer");const t=document.createElement("span");return t.textContent="Todo List",e.appendChild(t),e})(),o=(()=>{const e=document.createElement("div");e.setAttribute("id","newProjectButtonContainer");const t=document.createElement("button");t.setAttribute("class","button"),t.setAttribute("id","newProjectButton");const o=document.createElement("i");return o.setAttribute("class","fas fa-plus-circle"),t.textContent=" New Project",t.prepend(o),e.appendChild(t),e})(),n=(()=>{const e=document.createElement("div");e.setAttribute("id","projectsListContainer");const t=document.createElement("h1");t.textContent="Projects";const o=document.createElement("ul");return o.setAttribute("id","projectsList"),e.appendChild(t),e.appendChild(o),e})(),r=(()=>{const e=document.createElement("div");e.setAttribute("id","foot");const t=document.createElement("p");t.textContent="Created by ";const o=document.createElement("a");o.setAttribute("href","https://github.com/thiago-porto25");const n=document.createElement("i");return n.setAttribute("class","fab fa-github"),o.textContent=" Thiago Porto",o.prepend(n),t.appendChild(o),e.appendChild(t),e})();return e.appendChild(t),e.appendChild(o),e.appendChild(n),e.appendChild(r),e},a=()=>{const e=document.createElement("main"),t=(()=>{const e=document.createElement("div");e.setAttribute("class","projectContainer userNameContainer");const t=document.createElement("i");t.setAttribute("class","fas fa-task fa-user-circle");const o=document.createElement("span");return o.setAttribute("id","userName"),e.appendChild(t),e.appendChild(o),e})(),o=(()=>{const e=document.createElement("div");e.setAttribute("id","newTodoButtonContainer");const t=document.createElement("button");t.setAttribute("class","button newTodoButton");const o=document.createElement("span");return o.setAttribute("class","plusSpan"),o.textContent="+",t.appendChild(o),e.appendChild(t),e})(),n=(()=>{const e=document.createElement("div");e.setAttribute("class","projectTitleContainer projectContainer");const t=document.createElement("h2");return t.setAttribute("id","projectTitle"),e.appendChild(t),e})(),r=(()=>{const e=document.createElement("div");e.setAttribute("class","projectTodosContainer projectContainer");const t=document.createElement("ul");return t.setAttribute("class","todosList"),e.appendChild(t),e})();return e.appendChild(t),e.appendChild(o),e.appendChild(n),e.appendChild(r),e},s=()=>{const e=document.createElement("div");e.setAttribute("class","modal");const t=(()=>{const e=document.createElement("form");e.setAttribute("class","modalTemplate modalNewProject");const t=document.createElement("span");t.setAttribute("class","close"),t.innerHTML="&times;";const o=document.createElement("header");o.textContent="New Project";const n=document.createElement("input");n.setAttribute("class","modalInput"),n.setAttribute("placeholder","Project's Name"),n.setAttribute("required",""),n.setAttribute("maxlength","20");const r=document.createElement("button");return r.setAttribute("class","button submitProjectButton"),r.textContent="Create",e.appendChild(t),e.appendChild(o),e.appendChild(n),e.appendChild(r),e})(),o=(()=>{const e=document.createElement("div");e.setAttribute("class","modalTemplate modalNewTask");const t=document.createElement("span");t.setAttribute("class","close"),t.innerHTML="&times;";const o=document.createElement("form");o.setAttribute("id","newTaskModalForm");const n=document.createElement("div");n.setAttribute("id","taskTitleContainer");const r=document.createElement("input");r.setAttribute("class","modalInput newTaskInput"),r.setAttribute("maxlength","35"),r.setAttribute("type","text"),r.setAttribute("placeholder","I want to..."),r.setAttribute("required",""),n.appendChild(r);const a=document.createElement("div");a.setAttribute("id","dueDateContainer");const s=document.createElement("label");s.setAttribute("class","templateLabelNewTask"),s.setAttribute("for","date"),s.textContent="Due date";const d=document.createElement("br"),c=document.createElement("input");c.setAttribute("class","modalInput"),c.setAttribute("type","date"),c.setAttribute("name","date"),a.appendChild(s),a.appendChild(d),a.appendChild(c);const l=document.createElement("div");l.setAttribute("id","notesContainer");const i=document.createElement("label");i.setAttribute("class","templateLabelNewTask"),i.setAttribute("for","notes"),i.textContent="Notes";const u=document.createElement("br"),m=document.createElement("textarea");m.setAttribute("class","modalInput"),m.setAttribute("maxlength","150"),m.setAttribute("name","notes"),m.setAttribute("rows","1"),m.setAttribute("placeholder","Insert you notes here..."),l.appendChild(i),l.appendChild(u),l.appendChild(m);const p=document.createElement("div");p.setAttribute("id","addTaskButtonContainer");const b=document.createElement("button");return b.setAttribute("class","button addTaskButton"),b.textContent="Create new Todo",p.appendChild(b),o.appendChild(n),o.appendChild(a),o.appendChild(l),o.appendChild(p),e.appendChild(t),e.appendChild(o),e})();return e.appendChild(t),e.appendChild(o),e},d=()=>{const e=document.createElement("div");e.setAttribute("class","modalTemplate modalDelete"),e.setAttribute("id","deleteProject");const t=document.createElement("span");t.setAttribute("class","close"),t.innerHTML="&times;";const o=document.createElement("p");o.textContent="Are you sure you want to delete this Project?";const n=document.createElement("div");n.setAttribute("id","deleteAndCancelContainer");const r=document.createElement("button");r.setAttribute("class","button cancelAndDelete"),r.setAttribute("id","finalDeleteProjectButtonOnStart"),r.textContent="Delete";const a=document.createElement("button");return a.setAttribute("class","button cancelAndDelete"),a.setAttribute("id","cancelDeleteProjectButton"),a.textContent="Cancel",n.appendChild(r),n.appendChild(a),e.appendChild(t),e.appendChild(o),e.appendChild(n),e},c=()=>{const e=document.createElement("div");e.setAttribute("class","modalTemplate modalDelete"),e.setAttribute("id","deleteTask");const t=document.createElement("span");t.setAttribute("class","close"),t.innerHTML="&times;";const o=document.createElement("p");o.textContent="Are you sure you want to delete this Project?";const n=document.createElement("div");n.setAttribute("id","deleteAndCancelContainer");const r=document.createElement("button");r.setAttribute("class","button cancelAndDelete"),r.setAttribute("id","finalDeleteProjectButtonCreated"),r.textContent="Delete";const a=document.createElement("button");return a.setAttribute("class","button cancelAndDelete"),a.setAttribute("id","cancelDeleteTaskButton"),a.textContent="Cancel",n.appendChild(r),n.appendChild(a),e.appendChild(t),e.appendChild(o),e.appendChild(n),e},l=()=>{const e=document.createElement("div");e.setAttribute("class","modalTemplate modalTaskInfo"),e.setAttribute("id","modalTaskInfoOnStart");const t=document.createElement("form");t.setAttribute("id","infoContainer"),t.setAttribute("class","taskInfoFormOnStart");const o=document.createElement("span");o.setAttribute("class","close"),o.innerHTML="&times;";const n=document.createElement("textarea");n.setAttribute("class","modalInput newTaskInput infoTitleOnStart"),n.setAttribute("id","infoTitle"),n.setAttribute("required","");const r=document.createElement("label");r.setAttribute("class","templateLabelNewTask"),r.textContent="Due Date";const a=document.createElement("input");a.setAttribute("class","modalInput infoDateOnStart"),a.setAttribute("type","date");const s=document.createElement("label");s.setAttribute("class","templateLabelNewTask"),s.textContent="Notes";const d=document.createElement("textarea");d.setAttribute("class","modalInput notesInfoOnStart"),d.setAttribute("id","notesInfo"),d.setAttribute("maxlength","150"),d.setAttribute("rows","3"),d.setAttribute("placeholder","Insert you notes here...");const c=document.createElement("div");c.setAttribute("id","saveEditButtonContainer");const l=document.createElement("button");return l.setAttribute("class","button addTaskButton saveEditButton"),l.setAttribute("id","saveEditButtonOnStart"),l.textContent="Save changes",c.appendChild(l),t.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(a),t.appendChild(s),t.appendChild(d),t.appendChild(c),e.appendChild(t),e},i=()=>{const e=document.createElement("div");e.setAttribute("class","modalTemplate modalTaskInfo"),e.setAttribute("id","modalTaskInfoCreated");const t=document.createElement("form");t.setAttribute("id","infoContainer"),t.setAttribute("class","taskInfoFormCreated");const o=document.createElement("span");o.setAttribute("class","close"),o.innerHTML="&times;";const n=document.createElement("textarea");n.setAttribute("class","modalInput newTaskInput infoTitleCreated"),n.setAttribute("id","infoTitle"),n.setAttribute("required","");const r=document.createElement("label");r.setAttribute("class","templateLabelNewTask"),r.textContent="Due Date";const a=document.createElement("input");a.setAttribute("class","modalInput infoDateCreated"),a.setAttribute("type","date");const s=document.createElement("label");s.setAttribute("class","templateLabelNewTask"),s.textContent="Notes";const d=document.createElement("textarea");d.setAttribute("class","modalInput notesInfoCreated"),d.setAttribute("id","notesInfo"),d.setAttribute("maxlength","150"),d.setAttribute("rows","3"),d.setAttribute("placeholder","Insert you notes here...");const c=document.createElement("div");c.setAttribute("id","saveEditButtonContainer");const l=document.createElement("button");return l.setAttribute("class","button addTaskButton saveEditButton"),l.setAttribute("id","saveEditButtonCreated"),l.textContent="Save changes",c.appendChild(l),t.appendChild(o),t.appendChild(n),t.appendChild(r),t.appendChild(a),t.appendChild(s),t.appendChild(d),t.appendChild(c),e.appendChild(t),e},u=(e,t)=>{const o=document.createElement("li");o.setAttribute("class","projectsListItem"),o.setAttribute("data-deleteproject",t);const n=document.createElement("p");n.textContent=e;const r=document.createElement("i");return r.setAttribute("class","fas fa-task fa-project-delete fa-trash-alt"),o.appendChild(n),o.appendChild(r),document.querySelector("#projectsList").appendChild(o),o},m=e=>{document.querySelector(`[data-deleteproject = '${e}']`).remove()},p=e=>{document.querySelector(`[data-deleteproject='${e}']`).setAttribute("class","projectsListItem projectsClicked")},b=e=>{document.querySelector("#userName").textContent=e},C=e=>{document.querySelector("#projectTitle").textContent=e},y=(e,t)=>{const o=document.querySelector(".todosList"),n=document.createElement("li");n.setAttribute("class","todosListItem"),n.setAttribute("data-deleteTodo",t);const r=document.createElement("label");r.setAttribute("class","container");const a=document.createElement("input");a.setAttribute("type","checkbox"),a.setAttribute("class","taskCheckbox");const s=document.createElement("span");s.setAttribute("class","checkmark"),r.appendChild(a),r.appendChild(s),n.appendChild(r);const d=document.createElement("span");d.setAttribute("class","todoTitle"),d.textContent=e,n.appendChild(d);const c=document.createElement("div");c.setAttribute("class","buttonsContainer");const l=document.createElement("button");l.setAttribute("class","button taskButton");const i=document.createElement("i");i.setAttribute("class","editTodo fas fa-task fa-info-circle");const u=document.createElement("button");u.setAttribute("class","button taskButton");const m=document.createElement("i");return m.setAttribute("class","deleteTodo fas fa-task fa-trash-alt"),l.appendChild(i),c.appendChild(l),u.appendChild(m),c.appendChild(u),n.appendChild(c),o.appendChild(n),n},A=()=>{document.querySelector("#projectTitle").textContent=""},E=()=>{document.querySelectorAll(".todosListItem").forEach((e=>e.remove()))},h=()=>{const e=document.createElement("div");e.setAttribute("class","textContainer emptyTodos");const t=document.createElement("p");t.textContent="It seems that you have no Todos!",e.appendChild(t),document.querySelector(".projectTodosContainer").appendChild(e)},j=()=>{document.querySelector(".emptyTodos").style.display="none"},S=()=>{document.querySelector(".emptyTodos").style.display="flex"},v=()=>{const e=document.createElement("div");e.setAttribute("class","textContainer noProjects");const t=document.createElement("p");t.textContent="It seems that you have no Projects!",e.appendChild(t),document.querySelector(".projectTodosContainer").appendChild(e)},T=()=>{document.querySelector(".noProjects").style.display="none"},f=()=>{document.querySelector(".noProjects").style.display="flex"},k=e=>{const t=e.querySelector(".taskCheckbox"),o=e.querySelector(".todoTitle");t.checked=!0,o.setAttribute("class","todoTitle done")},q=function(){const e=()=>{document.querySelector(".modal").style.display="flex"},t=()=>{document.querySelector(".modal").style.display="none"};return{createModals:()=>{s()},displayNewProjectModal:()=>{const t=document.querySelector(".modalNewProject");e(),t.style.display="flex"},displayNewTaskModal:()=>{const t=document.querySelector(".modalNewTask");e(),t.style.display="flex"},displayDeleteProjectModalOnStart:()=>{let t=document.querySelector(".modal");const o=d();e(),t.appendChild(o),o.style.display="flex"},displayDeleteProjectModalCreated:()=>{let t=document.querySelector(".modal");const o=c();e(),t.appendChild(o),o.style.display="flex"},displayTaskInfoModalOnStart:()=>{let t=document.querySelector(".modal");const o=l();e(),t.appendChild(o),o.style.display="flex"},displayTaskInfoModalCreated:()=>{let t=document.querySelector(".modal");const o=i();e(),t.appendChild(o),o.style.display="flex"},removeNewProjectModal:()=>{const e=document.querySelector(".modalNewProject"),o=e.querySelector("input");t(),o.value="",e.style.display="none"},removeNewTaskModal:()=>{const e=document.querySelector(".modalNewTask"),o=e.querySelector("#taskTitleContainer input"),n=e.querySelector("#dueDateContainer input"),r=e.querySelector("#notesContainer textarea");t(),o.value="",n.value="",r.value="",e.style.display="none"},removeDeleteProjectModalOnStart:()=>{const e=document.querySelector("#deleteProject");t(),e.remove()},removeDeleteProjectModalCreated:()=>{const e=document.querySelector("#deleteTask");t(),e.remove()},removeTaskInfoModalOnStart:()=>{const e=document.querySelector("#modalTaskInfoOnStart");t(),e.remove()},removeTaskInfoModalCreated:()=>{const e=document.querySelector("#modalTaskInfoCreated");t(),e.remove()}}}(),D=()=>{const e=document.querySelector("body"),t=document.createElement("div");t.setAttribute("id","appPage");const o=r(),n=a(),d=s();t.appendChild(o),t.appendChild(n),t.appendChild(d),e.appendChild(t),h(),v()},L=e=>{e.preventDefault()},g=JSON.parse(localStorage.getItem("user"));let I=null!==localStorage.getItem("user")?g:{};const x={pageInitiated:!1,isNotNew:!0,setCurrentlyDisplayedProject:()=>document.querySelector(".projectsClicked"),resetDeleteTaskId:()=>{const e=document.querySelectorAll(".todosListItem");let t=0;e.forEach((e=>{e.setAttribute("data-deletetodo",t),++t}))},resetDeleteProjectId:()=>{const e=document.querySelectorAll(".projectsListItem");let t=0;e.forEach((e=>{e.setAttribute("data-deleteproject",t),++t}))}},P=()=>{localStorage.setItem("user",JSON.stringify(I))},w=()=>{const e=document.querySelector("#inputUserFirstName").value;n(),D(),u("Default","0"),p("0"),C("Default"),b(e),y("My first Todo ","0"),I.name=e,I.projects=[{name:"Default",isDisplayed:!0,todos:[{title:"My first Todo",dueDate:void 0,notes:"Yay! I must start creating todos.",isDone:!1}]}],P(),x.pageInitiated=!0},N=()=>{const e=I.name;D(),b(e),void 0===I.projects[0]?(f(),x.pageInitiated=!0):(I.projects.forEach((e=>{const t=I.projects.indexOf(e),o=e.name;u(o,t)})),p("0"),I.projects[0].isDisplayed=!0,C(I.projects[0].name),I.projects[0].todos.forEach((e=>{const t=e.title,o=I.projects[0].todos.indexOf(e),n=y(t,o);!0===e.isDone&&k(n)})),x.pageInitiated=!0,void 0===I.projects[0].todos[0]&&S())},M=function(){const e=e=>{T(),j(),E(),A();const t=I.projects[e];C(t.name),void 0===t.todos[0]?S():t.todos.forEach((e=>{const o=y(e.title,t.todos.indexOf(e));!0===e.isDone&&k(o)}))};return{displayNewProject:e,displayNextProject:t=>{if(0!=t){const o=t-1;p(o),I.projects[o].isDisplayed=!0,e(o)}0==t&&null!=I.projects[0]&&(p(t),I.projects[t].isDisplayed=!0,e(t)),0==t&&null==I.projects[0]&&(f(),j(),C(""))},changeTaskTitle:(e,t)=>{document.querySelector(`[data-deletetodo='${e}']`).querySelector(".todoTitle").textContent=t}}}(),O=function(){const e=()=>{document.querySelectorAll(".taskCheckbox").forEach((e=>e.addEventListener("click",(()=>{const t=x.setCurrentlyDisplayedProject().getAttribute("data-deleteproject"),o=e.parentElement.parentElement,n=o.getAttribute("data-deletetodo"),r=o.querySelector(".todoTitle");!0===e.checked?(r.setAttribute("class","todoTitle done"),I.projects[t].todos[n].isDone=!0):!1===e.checked&&(r.setAttribute("class","todoTitle"),I.projects[t].todos[n].isDone=!1),P()}))))},t=()=>{document.querySelectorAll(".editTodo").forEach((e=>e.addEventListener("click",(e=>{const t=x.setCurrentlyDisplayedProject().getAttribute("data-deleteproject"),o=e.target.parentElement.parentElement.parentElement.getAttribute("data-deletetodo");q.displayTaskInfoModalOnStart(),document.querySelector("#modalTaskInfoOnStart .close").addEventListener("click",q.removeTaskInfoModalOnStart);const n=document.querySelector(".infoTitleOnStart"),r=document.querySelector(".infoDateOnStart"),a=document.querySelector(".notesInfoOnStart");n.value=I.projects[t].todos[o].title,r.value=I.projects[t].todos[o].dueDate,a.value=I.projects[t].todos[o].notes;const s=document.querySelector(".taskInfoFormOnStart");s.addEventListener("submit",L),s.addEventListener("submit",(()=>{I.projects[t].todos[o].title=document.querySelector(".infoTitleOnStart").value,I.projects[t].todos[o].dueDate=document.querySelector(".infoDateOnStart").value,I.projects[t].todos[o].notes=document.querySelector(".notesInfoOnStart").value,q.removeTaskInfoModalOnStart(),M.changeTaskTitle(o,I.projects[t].todos[o].title),P()}))}))))},o=()=>{const e=document.querySelector("#newTaskModalForm");e.addEventListener("submit",L),e.addEventListener("submit",(()=>{const e=document.querySelector("#taskTitleContainer input").value,t=((e,t,o)=>({title:e,dueDate:document.querySelector("#dueDateContainer input").value,notes:document.querySelector("#notesContainer textarea").value,isDone:!1}))(e),o=x.setCurrentlyDisplayedProject().getAttribute("data-deleteproject");j();const n=I.projects[o].todos.push(t)-1;y(e,n),(e=>{document.querySelector(`[data-deletetodo = '${e}']`).querySelector(".deleteTodo").addEventListener("click",(e=>{const t=x.setCurrentlyDisplayedProject().getAttribute("data-deleteproject"),o=e.target.parentElement.parentElement.parentElement,n=o.getAttribute("data-deletetodo");I.projects[t].todos.splice(n,1),o.remove(),P(),x.resetDeleteTaskId(),void 0===I.projects[t].todos[0]&&S()}))})(n),(e=>{document.querySelector(`[data-deletetodo='${e}']`).querySelector(".editTodo").addEventListener("click",(e=>{const t=x.setCurrentlyDisplayedProject().getAttribute("data-deleteproject"),o=e.target.parentElement.parentElement.parentElement.getAttribute("data-deletetodo");q.displayTaskInfoModalCreated(),document.querySelector("#modalTaskInfoCreated .close").addEventListener("click",q.removeTaskInfoModalCreated);const n=document.querySelector(".infoTitleCreated"),r=document.querySelector(".infoDateCreated"),a=document.querySelector(".notesInfoCreated");n.value=I.projects[t].todos[o].title,r.value=I.projects[t].todos[o].dueDate,a.value=I.projects[t].todos[o].notes;const s=document.querySelector(".taskInfoFormCreated");s.addEventListener("submit",L),s.addEventListener("submit",(()=>{I.projects[t].todos[o].title=document.querySelector(".infoTitleCreated").value,I.projects[t].todos[o].dueDate=document.querySelector(".infoDateCreated").value,I.projects[t].todos[o].notes=document.querySelector(".notesInfoCreated").value,q.removeTaskInfoModalCreated(),M.changeTaskTitle(o,I.projects[t].todos[o].title),P()}))}))})(n),(e=>{const t=document.querySelector(`[data-deletetodo='${e}']`).querySelector(".taskCheckbox");t.addEventListener("click",(e=>{const o=x.setCurrentlyDisplayedProject().getAttribute("data-deleteproject"),n=e.target.parentElement.parentElement,r=n.getAttribute("data-deletetodo"),a=n.querySelector(".todoTitle");!0===t.checked?(a.setAttribute("class","todoTitle done"),I.projects[o].todos[r].isDone=!0):!1===t.checked&&(a.setAttribute("class","todoTitle"),I.projects[o].todos[r].isDone=!1),P()}))})(n),P(),q.removeNewTaskModal()}))},n=()=>{document.querySelector(".newTodoButton").addEventListener("click",q.displayNewTaskModal),o(),document.querySelector(".modalNewTask .close").addEventListener("click",q.removeNewTaskModal)},r=()=>{const o=document.querySelector(".modalNewProject");o.addEventListener("submit",L),o.addEventListener("submit",(()=>{const n=o.querySelector("input").value,r={name:n,isDisplayed:!1,todos:[]},a=I.projects.push(r)-1,d=u(n,a);0==a&&(I.projects[a].isDisplayed=!0),P(),q.removeNewProjectModal(),(e=>{let t;e.lastChild.addEventListener("click",(e=>{q.displayDeleteProjectModalCreated(),(()=>{const e=document.querySelector("#deleteTask .close"),t=document.querySelector("#cancelDeleteTaskButton");e.addEventListener("click",q.removeDeleteProjectModalCreated),t.addEventListener("click",q.removeDeleteProjectModalCreated)})(),t=e.target.parentElement.getAttribute("data-deleteproject"),document.querySelector("#finalDeleteProjectButtonCreated").addEventListener("click",(()=>{q.removeDeleteProjectModalCreated(),m(t),I.projects[t].isDisplayed&&(A(),E(),S()),I.projects.splice(t,1),P(),x.resetDeleteProjectId(),M.displayNextProject(t)}))}))})(d),(o=>{o.addEventListener("click",(n=>{const r=o.getAttribute("data-deleteproject");n.target===o&&"projectsListItem projectsClicked"!==o.getAttribute("class")&&(document.querySelectorAll(".projectsListItem").forEach((e=>e.setAttribute("class","projectsListItem"))),I.projects.forEach((e=>e.isDisplayed=!1)),p(r),I.projects[r].isDisplayed=!0,M.displayNewProject(r),s(),t(),e())}))})(d)}))},a=()=>{document.querySelector("#newProjectButton").addEventListener("click",q.displayNewProjectModal),r(),document.querySelector(".modalNewProject .close").addEventListener("click",q.removeNewProjectModal)},s=()=>{document.querySelectorAll(".deleteTodo").forEach((e=>{e.addEventListener("click",(t=>{if(e===t.target){const e=x.setCurrentlyDisplayedProject().getAttribute("data-deleteproject"),o=t.target.parentElement.parentElement.parentElement.getAttribute("data-deletetodo");t.target.parentElement.parentElement.parentElement.remove(),I.projects[e].todos.splice(o,1),P(),x.resetDeleteTaskId(),void 0===I.projects[e].todos[0]&&S()}}))}))},d=()=>{let e;document.querySelectorAll(".projectsListItem").forEach((t=>{t.lastChild.addEventListener("click",(t=>{q.displayDeleteProjectModalOnStart(),(()=>{const e=document.querySelector("#deleteProject .close"),t=document.querySelector("#cancelDeleteProjectButton");e.addEventListener("click",q.removeDeleteProjectModalOnStart),t.addEventListener("click",q.removeDeleteProjectModalOnStart)})();const o=t.target.parentElement;e=o.getAttribute("data-deleteproject"),document.querySelector("#finalDeleteProjectButtonOnStart").addEventListener("click",(()=>{q.removeDeleteProjectModalOnStart(),m(e),I.projects[e].isDisplayed&&(A(),E(),S()),I.projects.splice(e,1),P(),x.resetDeleteProjectId(),M.displayNextProject(e),e=void 0}))}))}))},c=()=>{document.querySelectorAll(".projectsListItem").forEach((o=>{o.addEventListener("click",(n=>{if(n.target!==o)return;if("projectsListItem projectsClicked"===o.getAttribute("class"))return;const r=n.target.getAttribute("data-deleteproject");document.querySelectorAll(".projectsListItem").forEach((e=>e.setAttribute("class","projectsListItem"))),I.projects.forEach((e=>e.isDisplayed=!1)),n.target.setAttribute("class","projectsListItem projectsClicked"),console.log(I.projects[r].isDisplayed),I.projects[r].isDisplayed=!0,M.displayNewProject(r),s(),t(),e()}))}))};return{addListenerLogin:()=>{const e=document.querySelector("#loginForm");e.addEventListener("submit",L),e.addEventListener("submit",(()=>{w(),n(),a(),d(),s(),t(),c()}))},addListenerNewTask:n,addListenerNewProject:a,addListenerDeleteProjectOnStart:d,addListenerSubmitNewTask:o,addListenerDeleteTaskOnStart:s,addListenerNavigateProjectsOnStart:c,addListenerTaskInfoOnStart:t,addListenerTaskDoneOnStart:e}}();void 0===I.name?(o(),O.addListenerLogin()):N(),x.pageInitiated&&(O.addListenerNewTask(),O.addListenerNewProject(),O.addListenerDeleteProjectOnStart(),O.addListenerDeleteTaskOnStart(),O.addListenerTaskInfoOnStart(),O.addListenerNavigateProjectsOnStart(),O.addListenerTaskDoneOnStart())})();